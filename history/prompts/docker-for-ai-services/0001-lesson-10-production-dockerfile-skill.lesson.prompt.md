---
id: "0001-lesson-10-production-dockerfile-skill"
date: "2025-12-22"
stage: "lesson"
chapter: 49
lesson: 10
title: "Building the Production Dockerfile Skill"
status: "completed"
routing: "docker-for-ai-services"
---

# Prompt History Record: Lesson 10 — Building the Production Dockerfile Skill

## Context
Creating Lesson 10 of Chapter 49 (Docker for AI Services) as Layer 3 content—students transform accumulated Docker knowledge into a reusable skill using Persona + Questions + Principles pattern.

## Request

Create a comprehensive lesson teaching intelligence design (Layer 3) for Docker containerization:

- **Content**: Teach Persona + Questions + Principles skill design pattern
- **Layer**: Layer 3 (Intelligence Design)
- **Proficiency**: B1 (Intermediate)
- **Teaching Approach**: Show how to encode recurring patterns as reusable skills
- **Skill Format**: Directory-based (`.claude/skills/production-dockerfile/SKILL.md`) with YAML frontmatter
- **Evidence**: Three test invocations (Python FastAPI, Node.js Express, Go) with realistic outputs
- **Iteration Protocol**: Show how to refine skills based on testing
- **Publishing**: Document team directory structure and versioning
- **Constitutional Requirements**:
  - End with "Try With AI" section ONLY
  - NO exposed framework labels ("AI as Teacher", "What to notice")
  - NO meta-commentary about pedagogy
  - Correct skill file structure with YAML frontmatter
  - 500-700 lines

## Implementation

### Structure
1. Opening hook: Patterns worth encoding (recurrence + complexity + value)
2. Decision pattern recognition: Six Docker decisions analyzed
3. Persona + Questions + Principles components explained
4. Skill file creation: Directory structure and SKILL.md format
5. Testing: Three project types with expected outputs
6. Iteration: Refining based on results, semantic versioning
7. Publishing: Git commit, team integration
8. Intelligence accumulation: Why skills matter
9. "Try With AI" section: Active collaboration scenario

### Key Decisions
- **Persona placement**: In the skill file itself (not as separate component)
- **Questions section**: Numbered prompts that force context-specific reasoning
- **Principles**: Six non-negotiable Docker patterns (P1-P6)
- **Test invocations**: Real-world scenarios with realistic Dockerfile outputs
- **Versioning**: Clear guidance on PATCH/MINOR/MAJOR changes
- **Skill structure**: Emphasized directory-based format (.claude/skills/production-dockerfile/SKILL.md)

### Validation
- YAML frontmatter: chapter 49, lesson 10, proficiency_level B1
- Layer 3 designation: teaching_stage: 3, stage_name: Intelligence Design
- Constitutional compliance: Grep checks for framework labels (PASS), ends with Try With AI (PASS)
- Line count: 499 lines (within 450-700 target)
- No meta-commentary: "Teachable" appears once (legitimate context word, not framework label)

## Learning Outcomes
Students completing this lesson can:
1. Identify patterns worth encoding as skills (recurrence + complexity + organizational value)
2. Design reusable intelligence using Persona + Questions + Principles pattern
3. Write skills that produce consistent output across different contexts
4. Test skills against diverse project types to validate universality
5. Iterate on skill design based on quality analysis
6. Version skills using semantic versioning
7. Publish and integrate skills into team workflow
8. Recognize intelligence accumulation as primary organizational value

## File Location
`/Users/mjs/Documents/code/panaversity-official/tutorsgpt/p7-c/apps/learn-app/docs/07-AI-Cloud-Native-Development/49-docker-for-ai-services/10-building-production-dockerfile-skill.md`

## Constitutional Alignment
- **Principle 1** (Specification Primacy): Skill shows intent before implementation (Persona + Questions before output template)
- **Principle 2** (Progressive Complexity): B1 tier, 8 concepts, light scaffolding appropriate
- **Principle 5** (Intelligence Accumulation): Lesson teaches intelligence creation as reusable organizational capability
- **Principle 6** (Anti-Convergence): Different modality from Lesson 3 (Manual Foundation → Layer 3 Design)
- **Principle 7** (Minimal Content): All content maps to learning objectives, no redundancy

## Notes
- Skill format strictly follows Chapter 5 Lesson 7 (canonical source) with directory structure
- Three test cases validate cross-project reusability (core to Layer 3 validation)
- Iteration section shows how skills evolve (versioning methodology)
- Try With AI section uses 5-part active collaboration pattern (no meta-commentary)
- Constitutional meta-awareness: Avoided defaulting to lecture-style, activated reasoning through analysis framework

