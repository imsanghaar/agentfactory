/**
 * TeachingGuideSheet Styles
 *
 * Organized into visual groups with Polar Night theme.
 * Navy (#001f3f) + charcoal + sophisticated grays.
 */

/* ─── Sheet chrome ─── */

.sheetContent {
  --tg-navy: #001f3f;
  --tg-charcoal: #111111;
  --tg-gray-dark: #666666;
  --tg-gray-mid: #888888;
  --tg-gray-light: #aaaaaa;
  --tg-gray-pale: #dddddd;
  --tg-white: #ffffff;
  --tg-border: rgba(0, 31, 63, 0.10);

  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.sheetHeader {
  flex-shrink: 0;
  padding-bottom: 0.75rem;
  border-bottom: 2px solid var(--tg-navy);
}

:global([data-theme='dark']) .sheetHeader {
  border-bottom-color: var(--tg-gray-pale);
}

.sheetTitle {
  font-size: 1.125rem;
  font-weight: 700;
  color: var(--tg-navy);
}

:global([data-theme='dark']) .sheetTitle {
  color: var(--tg-white);
}

.sheetDescription {
  font-size: 0.8rem;
  color: var(--tg-gray-mid);
}

/* ─── Scrollable body ─── */

.scrollArea {
  flex: 1;
  overflow-y: auto;
  padding-top: 1rem;
  padding-bottom: 2rem;
  scroll-behavior: smooth;
  scrollbar-width: thin;
  scrollbar-color: rgba(0, 31, 63, 0.15) transparent;
}

.scrollArea::-webkit-scrollbar { width: 5px; }
.scrollArea::-webkit-scrollbar-track { background: transparent; }
.scrollArea::-webkit-scrollbar-thumb { background: rgba(0, 31, 63, 0.15); border-radius: 3px; }

:global([data-theme='dark']) .scrollArea { scrollbar-color: rgba(170, 170, 170, 0.15) transparent; }
:global([data-theme='dark']) .scrollArea::-webkit-scrollbar-thumb { background: rgba(170, 170, 170, 0.15); }

/* ─── Group (top-level section with header) ─── */

.group {
  margin-bottom: 1.5rem;
}

.group:last-child {
  margin-bottom: 0;
}

.groupTitle {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin: 0 0 0.75rem;
  padding: 0.5rem 0.75rem;
  font-size: 0.75rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  color: var(--tg-white);
  background: var(--tg-navy);
  border-radius: 4px;
}

:global([data-theme='dark']) .groupTitle {
  background: rgba(170, 170, 170, 0.18);
  color: var(--tg-white);
}

/* ─── Subsection (within a group) ─── */

.subsection {
  margin-bottom: 1rem;
}

.subsection:last-child {
  margin-bottom: 0;
}

.subsectionTitle {
  margin: 0 0 0.5rem;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  color: var(--tg-gray-dark);
  border-bottom: 1px solid var(--tg-border);
  padding-bottom: 0.25rem;
}

:global([data-theme='dark']) .subsectionTitle {
  color: var(--tg-gray-light);
  border-bottom-color: rgba(170, 170, 170, 0.12);
}

.warningTitle {
  color: #b45309;
}

:global([data-theme='dark']) .warningTitle {
  color: #fbbf24;
}

/* ─── Overview banner (Group 1) ─── */

.overviewBanner {
  display: flex;
  flex-wrap: wrap;
  gap: 0.75rem;
  padding: 0.75rem;
  background: rgba(0, 31, 63, 0.04);
  border: 1px solid var(--tg-border);
  border-left: 3px solid var(--tg-navy);
  border-radius: 4px;
}

:global([data-theme='dark']) .overviewBanner {
  background: rgba(170, 170, 170, 0.06);
  border-color: rgba(170, 170, 170, 0.12);
  border-left-color: var(--tg-gray-light);
}

.overviewItem {
  display: flex;
  flex-direction: column;
  gap: 0.125rem;
  min-width: 0;
  flex: 1 1 auto;
}

.overviewLabel {
  font-size: 0.65rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  color: var(--tg-gray-mid);
}

.overviewValue {
  font-size: 0.85rem;
  font-weight: 600;
  color: var(--tg-charcoal);
  display: flex;
  align-items: center;
  gap: 0.375rem;
  flex-wrap: wrap;
}

:global([data-theme='dark']) .overviewValue {
  color: var(--tg-gray-pale);
}

/* ─── Badges ─── */

.badge {
  display: inline-flex;
  align-items: center;
  padding: 0.1rem 0.4rem;
  font-size: 0.65rem;
  font-weight: 600;
  letter-spacing: 0.03em;
  border-radius: 3px;
  background: rgba(0, 31, 63, 0.08);
  color: var(--tg-navy);
  white-space: nowrap;
}

:global([data-theme='dark']) .badge {
  background: rgba(170, 170, 170, 0.12);
  color: var(--tg-gray-pale);
}

.proficiency {
  background: var(--tg-navy);
  color: var(--tg-white);
  font-weight: 700;
}

:global([data-theme='dark']) .proficiency {
  background: rgba(170, 170, 170, 0.25);
  color: var(--tg-white);
}

.layerBadge {
  composes: proficiency;
  font-size: 0.7rem;
}

.layerDetail {
  font-size: 0.8rem;
  font-weight: 400;
  color: var(--tg-gray-dark);
}

:global([data-theme='dark']) .layerDetail {
  color: var(--tg-gray-light);
}

/* ─── Bloom colors ─── */

.bloomRemember  { background: #e8f5e9; color: #2e7d32; }
.bloomUnderstand { background: #e3f2fd; color: #1565c0; }
.bloomApply     { background: #fff3e0; color: #e65100; }
.bloomAnalyze   { background: #f3e5f5; color: #7b1fa2; }
.bloomEvaluate  { background: #fce4ec; color: #c62828; }
.bloomCreate    { background: #e0f2f1; color: #00695c; }

:global([data-theme='dark']) .bloomRemember  { background: rgba(46, 125, 50, 0.2); color: #81c784; }
:global([data-theme='dark']) .bloomUnderstand { background: rgba(21, 101, 192, 0.2); color: #64b5f6; }
:global([data-theme='dark']) .bloomApply     { background: rgba(230, 81, 0, 0.2); color: #ffb74d; }
:global([data-theme='dark']) .bloomAnalyze   { background: rgba(123, 31, 162, 0.2); color: #ce93d8; }
:global([data-theme='dark']) .bloomEvaluate  { background: rgba(198, 40, 40, 0.2); color: #ef9a9a; }
:global([data-theme='dark']) .bloomCreate    { background: rgba(0, 105, 92, 0.2); color: #80cbc4; }

/* ─── Objectives table ─── */

.objectivesTable {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.8rem;
}

.objectivesTable th {
  text-align: left;
  font-size: 0.65rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  color: var(--tg-gray-mid);
  padding: 0.375rem 0.5rem;
  border-bottom: 1px solid var(--tg-border);
}

:global([data-theme='dark']) .objectivesTable th {
  border-bottom-color: rgba(170, 170, 170, 0.12);
}

.objectivesTable td {
  padding: 0.5rem 0.5rem;
  vertical-align: top;
  border-bottom: 1px dashed rgba(0, 31, 63, 0.06);
  color: var(--tg-charcoal);
}

:global([data-theme='dark']) .objectivesTable td {
  border-bottom-color: rgba(170, 170, 170, 0.06);
  color: var(--tg-gray-light);
}

.objectivesTable tr:last-child td {
  border-bottom: none;
}

/* Level and Bloom columns: keep narrow */
.objectivesTable th:nth-child(2),
.objectivesTable td:nth-child(2),
.objectivesTable th:nth-child(3),
.objectivesTable td:nth-child(3) {
  white-space: nowrap;
  width: 1%;
  text-align: center;
}

.objectiveText {
  display: block;
  line-height: 1.4;
}

.assessmentHint {
  display: block;
  margin-top: 0.2rem;
  font-size: 0.7rem;
  font-style: italic;
  color: var(--tg-gray-mid);
}

/* ─── Skill cards ─── */

.skillCards {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.skillCard {
  padding: 0.5rem 0.625rem;
  background: rgba(0, 31, 63, 0.03);
  border: 1px solid var(--tg-border);
  border-radius: 4px;
}

:global([data-theme='dark']) .skillCard {
  background: rgba(170, 170, 170, 0.04);
  border-color: rgba(170, 170, 170, 0.1);
}

.skillName {
  display: block;
  font-size: 0.8rem;
  font-weight: 600;
  color: var(--tg-charcoal);
  margin-bottom: 0.25rem;
}

:global([data-theme='dark']) .skillName {
  color: var(--tg-gray-pale);
}

.skillBadges {
  display: flex;
  gap: 0.3rem;
  flex-wrap: wrap;
}

/* ─── Cognitive load card ─── */

.cognitiveCard {
  padding: 0.625rem 0.75rem;
  background: rgba(0, 31, 63, 0.03);
  border: 1px solid var(--tg-border);
  border-radius: 4px;
}

:global([data-theme='dark']) .cognitiveCard {
  background: rgba(170, 170, 170, 0.04);
  border-color: rgba(170, 170, 170, 0.1);
}

.cognitiveCount {
  display: flex;
  align-items: baseline;
  gap: 0.375rem;
  margin-bottom: 0.375rem;
}

.cognitiveNumber {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--tg-navy);
  line-height: 1;
}

:global([data-theme='dark']) .cognitiveNumber {
  color: var(--tg-white);
}

.cognitiveLabel {
  font-size: 0.8rem;
  color: var(--tg-gray-dark);
}

:global([data-theme='dark']) .cognitiveLabel {
  color: var(--tg-gray-light);
}

.cognitiveNote {
  margin: 0;
  font-size: 0.75rem;
  line-height: 1.4;
  color: var(--tg-gray-dark);
}

:global([data-theme='dark']) .cognitiveNote {
  color: var(--tg-gray-mid);
}

/* ─── Differentiation cards ─── */

.diffCards {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.diffCard {
  padding: 0.5rem 0.625rem;
  border-radius: 4px;
  border-left: 3px solid;
}

.diffCard p {
  margin: 0;
  font-size: 0.8rem;
  line-height: 1.5;
  color: var(--tg-charcoal);
}

:global([data-theme='dark']) .diffCard p {
  color: var(--tg-gray-light);
}

.diffAdvanced {
  border-left-color: #1565c0;
  background: rgba(21, 101, 192, 0.05);
}

:global([data-theme='dark']) .diffAdvanced {
  border-left-color: #64b5f6;
  background: rgba(21, 101, 192, 0.08);
}

.diffStruggling {
  border-left-color: #e65100;
  background: rgba(230, 81, 0, 0.04);
}

:global([data-theme='dark']) .diffStruggling {
  border-left-color: #ffb74d;
  background: rgba(230, 81, 0, 0.08);
}

.diffLabel {
  display: block;
  font-size: 0.7rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  color: var(--tg-gray-mid);
  margin-bottom: 0.25rem;
}

/* ─── List variants for teaching guide ─── */

.bulletList,
.numberedList,
.warningList,
.promptList,
.tipList,
.checkList {
  margin: 0;
  padding-left: 1.25rem;
}

.bulletList li,
.numberedList li,
.warningList li,
.promptList li,
.tipList li,
.checkList li {
  font-size: 0.8rem;
  line-height: 1.5;
  color: var(--tg-charcoal);
  margin-bottom: 0.375rem;
}

.bulletList li:last-child,
.numberedList li:last-child,
.warningList li:last-child,
.promptList li:last-child,
.tipList li:last-child,
.checkList li:last-child {
  margin-bottom: 0;
}

:global([data-theme='dark']) .bulletList li,
:global([data-theme='dark']) .numberedList li,
:global([data-theme='dark']) .warningList li,
:global([data-theme='dark']) .promptList li,
:global([data-theme='dark']) .tipList li,
:global([data-theme='dark']) .checkList li {
  color: var(--tg-gray-light);
}

/* Numbered list */
.numberedList {
  list-style: decimal;
}

.numberedList li::marker {
  color: var(--tg-navy);
  font-weight: 700;
}

:global([data-theme='dark']) .numberedList li::marker {
  color: var(--tg-gray-pale);
}

/* Warning list (misconceptions) - amber markers */
.warningList li::marker {
  color: #b45309;
}

:global([data-theme='dark']) .warningList li::marker {
  color: #fbbf24;
}

/* Prompt list - speech bubble style */
.promptList {
  list-style: none;
  padding-left: 0;
}

.promptList li {
  padding: 0.375rem 0.625rem;
  margin-bottom: 0.375rem;
  background: rgba(0, 31, 63, 0.03);
  border-left: 2px solid var(--tg-navy);
  border-radius: 0 4px 4px 0;
  font-style: italic;
}

:global([data-theme='dark']) .promptList li {
  background: rgba(170, 170, 170, 0.04);
  border-left-color: var(--tg-gray-light);
}

/* Tip list - green markers */
.tipList li::marker {
  color: #2e7d32;
}

:global([data-theme='dark']) .tipList li::marker {
  color: #81c784;
}

/* Check list - blue markers */
.checkList li::marker {
  color: #1565c0;
}

:global([data-theme='dark']) .checkList li::marker {
  color: #64b5f6;
}

/* ─── Mobile ─── */

@media screen and (max-width: 640px) {
  .sheetContent {
    width: 100% !important;
    max-width: 100% !important;
  }

  .overviewBanner {
    flex-direction: column;
  }

  .objectivesTable th:nth-child(3),
  .objectivesTable td:nth-child(3) {
    display: none;
  }
}

/* ─── Reduced motion ─── */

@media (prefers-reduced-motion: reduce) {
  .scrollArea {
    scroll-behavior: auto;
  }
}

/* ─── Print ─── */

@media print {
  .sheetContent {
    display: none;
  }
}
